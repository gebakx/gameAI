<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-weight: bold">public</span> <span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">AIVision</span> : MonoBehaviour {
	<span style="color: #008800; font-weight: bold">public</span> Camera frustum;
	<span style="color: #008800; font-weight: bold">public</span> LayerMask mask;
	
	<span style="color: #008800; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">Update</span> () {
		Collider[] colliders = Physics.OverlapSphere(transform.position, frustum.farClipPlane, mask);
		Plane[] planes = GeometryUtility.CalculateFrustumPlanes(frustum);

		<span style="color: #008800; font-weight: bold">foreach</span>(Collider col <span style="color: #008800; font-weight: bold">in</span> colliders)
		{
			<span style="color: #008800; font-weight: bold">if</span>(col.gameObject != gameObject &amp;&amp; GeometryUtility.TestPlanesAABB(planes, col.bounds))
			{
				RaycastHit hit;
				Ray ray = <span style="color: #008800; font-weight: bold">new</span> Ray();
				ray.origin = transform.position;
				ray.direction = (col.transform.position - transform.position).normalized;
				ray.origin = ray.GetPoint(frustum.nearClipPlane);

				<span style="color: #008800; font-weight: bold">if</span>(Physics.Raycast(ray, <span style="color: #008800; font-weight: bold">out</span> hit, frustum.farClipPlane, mask))
					<span style="color: #008800; font-weight: bold">if</span>(hit.collider.gameObject.CompareTag(<span style="background-color: #fff0f0">&quot;your tag&quot;</span>))
<span style="color: #888888">						// Your code!!</span>
			}
		}
	}
}
</pre></div>

